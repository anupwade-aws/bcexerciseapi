{"version":3,"file":"DataController.js","sourceRoot":"","sources":["../../src/controller/DataController.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA,qEAGiC;AACjC,yCAAmC;AACnC,wDAAqD;AAErD,6CAAsC;AAGtC,IAAa,cAAc,GAA3B,MAAa,cAAc;IACzB,YAA+C,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;IAAG,CAAC;IAEpE,iBAAiB,CAAC,OAAgB;QAEvC,MAAM,GAAG,GAAG,OAAO,CAAC,IAAI,CAAC,QAAQ,CAAC;QAClC,MAAM,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC;QAEpC,IAAI,GAAG,KAAK,SAAS,IAAI,GAAG,KAAK,EAAE,IAAI,CAAC,GAAG,EAAE;YAC3C,OAAO,EAAE,KAAK,EAAE,qBAAqB,EAAE,CAAC;SACzC;QAED,IAAI,IAAI,KAAK,SAAS,IAAI,IAAI,KAAK,EAAE,IAAI,CAAC,IAAI,EAAE;YAC9C,OAAO,EAAE,KAAK,EAAE,sBAAsB,EAAE,CAAC;SAC1C;QACD,OAAO,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;IAC7C,CAAC;CACF,CAAA;AAdC;IADC,kCAAQ,CAAC,GAAG,CAAC;;;;uDAcb;AAhBU,cAAc;IAD1B,oCAAU,CAAC,cAAc,CAAC;IAEZ,WAAA,kBAAM,CAAC,eAAK,CAAC,WAAW,CAAC,CAAA;qCAAsB,yBAAW;GAD5D,cAAc,CAiB1B;AAjBY,wCAAc","sourcesContent":["import {\n  controller,\n  httpPost,\n} from \"inversify-express-utils\";\nimport { inject } from \"inversify\";\nimport { DataService } from \"../service/DataService\";\nimport { Request } from \"express\";\nimport TYPES from \"../constant/types\";\n\n@controller(\"/api/getdata\")\nexport class DataController {\n  constructor(@inject(TYPES.DataService) private dataService: DataService) {}\n  @httpPost(\"/\")\n  public getDataFromServer(request: Request){\n    // retrieve cordinates from request\n    const lat = request.body.latitude;\n    const long = request.body.longitude;\n\n    if (lat === undefined || lat === \"\" || !lat) {\n      return { error: \"latitude is missing\" };\n    }\n\n    if (long === undefined || long === \"\" || !long) {\n      return { error: \"longitude is missing\" };\n    }\n    return this.dataService.getData(long, lat);\n  }\n}\n"]}